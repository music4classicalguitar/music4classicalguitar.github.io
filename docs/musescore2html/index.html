<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Style-Type" content="text/css" />
	<link rel="stylesheet" type="text/css" href="css/doc.css"/>
    <title>MuseScore2Html</title>
  </head>
  <body>
    <h1>MuseScore2Html</h1>
    <p>MuseScore2Html is an application used to generate html-files from MuseScore scores which you can use on your own website.
    <br/>See <a href="https://github.com/music4classicalguitar/musescore2html">https://github.com/music4classicalguitar/musescore2html</a></p>
    <p>Examples of generated files :</p>
	<ul>
		<li><a href="Begin.html">Begin.html</a></li>
		<li><a href="Middle.html">Middle.html</a></li>
		<li><a href="End.html">End.html</a></li>
		<li><a href="MyComposition.html">MyComposition.html</a></li>
	</ul>
    <p>If needed an index-file with links to all or a selection of html-files of the scores can be generated.</p>
    <p>Examples of generated index-file :</p>
	<ul>
		<li><a href="AllMyMusic.html">AllMyMusic.html</a></li>
	</ul>
    <p>Examples of handcrafted html-file from multiple scores with use of generated files :</p>
	<ul>
		<li><a href="Composition.html">Composition.html</a></li>
	</ul>
    <p>See <a href="https://github.com/music4classicalguitar/musescore2html">https://github.com/music4classicalguitar/musescore2html<a>.</p>

	<h2>How it works and how to generate files with MuseScore without use of MuseScore2Html</h1>
    <p><b>ms_player.js</b> is a javascript which can be used to show a MuseScore score as a webpage.</p>
    <p>There are two zip-files, ms_player.zip (<a href="#ms_player">contents</a>) which can be used to show the scores
	<br/>and ms_player_index.zip (<a href="#ms_player_index">contents</a>) which can be used to show an index-file with links to all scores.</p>

    <p>To show a MuseScore score "'MyComposition.mscz" as a webpage, you can use the commandline interface of MuseScore to generate the files needed as follows.
    <br/>Note: Only the png-, mp3- and ogg-files can also be generated by using the gui.</p>
    <p>If your score is located in folder 'Music' and you want to place the files in a folder "Sites" use:</p>
    
    <ul>
   		<li><p>To generate the images of the pages for the score:</p>
    	<pre>mscore -cli -o "Sites/MyComposition.png" "Music/MyComposition.mscz"</pre></li>
    
    	<li><p>To generate the audio for the score:</p>
    	<pre>mscore -cli -o "Sites/MyComposition.mp3" "Music/MyComposition.mscz"</pre>
    	<pre>mscore -cli -o "Sites/MyComposition.ogg" "Music/MyComposition.mscz"</pre></li>
    
    	<li><p>To generate the meta-information for the score (number of pages, number of measures, ...):</p>
    	<pre>mscore -cli -o "Sites/MyComposition.metajson" "Music/MyComposition.mscz"</pre></li>
    
    	<li><p>To generate the information about measures for the score (position of measures on a page, audio-position of measures):</p>
    	<pre>mscore -cli -o "/tmp/MyComposition.mpos" "Music/MyComposition.mscz"</pre>
    	<p>This is a XML-file. To convert this file to a json-file for use with javascript use the stylesheet <a href="xsl/musescore_mpos.xsl">musescore_mpos.xsl</a> with e.g. <a href="http://saxon.sourceforge.net">saxon</a>.
    	<br/>If musescore_mpos.xsl is located in a directory xsl:</p>
    	<pre>java -cp saxon-he-10.3.jar net.sf.saxon.Transform -s:/tmp/MyComposition.mpos -xsl:xsl/musescore_mpos.xsl -o:Sites/MyComposition_space.json</pre>
    	</li>
    	
    	<li><p>Create a html-file "Sites/MyComposition.html" with content:</p>
    	<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="Content-Style-Type" content="text/css" /&gt;
    &lt;script type="text/javascript" src="js/ms_player.js"&gt;&lt;/script&gt;
    &lt;title&gt;Begin&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script type="text/javascript"&gt;
      ms_player.load("MyComposition");
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li>

		<li><p>Unzip ms_player_index.zip (see <a href="#ms_player">contents</a>) in directory 'Sites'.</p></li>

    </ul>
    
    <p>Now you should be able see your score as a web-page by opening <a href="MyComposition.html">Sites/MyComposition.html</a>.</p>
    
    <p>To combine several scores in one page you can use "tagId" to inform ms_player in which element to place the score within a webpage.
    <br/>Example:</p>
    <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="Content-Style-Type" content="text/css" /&gt;
    &lt;script type="text/javascript" src="js/ms_player.js"&gt;&lt;/script&gt;
    &lt;title&gt;Compostion&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Composition&lt;/h1&gt;
    &lt;table border="1"&gt;
      &lt;tr&gt;&lt;th&gt;Part&lt;/th&gt;&lt;th&gt;Example&lt;/th&gt;&lt;th&gt;Comment&lt;/th&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;Begin&lt;/td&gt;&lt;td <samp>id="notes_Begin"</samp> style="width: 100%; height: 260px"&gt;&lt;/td&gt;&lt;td style="white-space: nowrap;"&gt;Start with this&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;Middle&lt;/td&gt;&lt;td <samp>id="notes_Middle"</samp> style="height: 260px"&gt;&lt;/td&gt;&lt;td style="white-space: nowrap;"&gt;Continue with this&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;End&lt;/td&gt;&lt;td <samp>id="notes_End"</samp> style="height: 260px"&gt;&lt;/td&gt;&lt;td style="white-space: nowrap;"&gt;Stop with this&lt;/td&gt;&lt;/tr&gt;
    &lt;/table&gt;
    &lt;script type="text/javascript"&gt;
      ms_player.load("Begin", { <samp>tagId : "notes_Begin"</samp>});
      ms_player.load("Middle", { <samp>tagId : "notes_Middle"</samp>});
      ms_player.load("End", { <samp>tagId : "notes_End"</samp>});
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
	<p>See <a href="Composition.html">Composition.html</a>
    
    <h2>Contents of zip-files and dowload-links</h2>
    <p>Content of <a id="ms_player" href="ms_player.zip" target="_blank">ms_player.zip</a> (download link):
    <pre>css/ms_player.css
images/media-playback-loop.svg
images/media-playback-metronome.svg
images/media-playback-pause.svg
images/media-playback-start.svg
images/media-skip-backward.svg
images/media-skip-forward.svg
images/window-close.svg
js/ms_player.js
</pre>
<br/>Content of <a id="ms_player_index" href="ms_player_index.zip" target="_blank">ms_player_index.zip</a> (download link):
<pre>css/ms_player_index.css
js/ms_player_query.js
</pre>
</p>
	<p>Stylesheet used :</p>
	<ul>
		<li><a href="xsl/musescore_mpos.xsl"> musescore_mpos.xsl</a></li>
	</ul>
	<p>Scores used in these examples :</p>
	<ul>
		<li><a href="Sites/Mycomposition.mscz">Mycomposition.mscz</a></li>
		<li><a href="Sites/Begin.mscz">Begin.mscz</a></li>
		<li><a href="Sites/Middle.mscz">Middle.mscz</a></li>
		<li><a href="Sites/End.mscz">End.mscz</a></li>
	</ul>
  </body>
</html>
