<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset='UTF-8'>
		<link rel='stylesheet' href='css/style.css'/>
		<link rel='stylesheet' href='css/chords/chords.css'/>
		<script src='js/chords/notenames.js'></script>
		<script src='js/chords/instruments.js'></script>
		<script src='js/chords/chordtypes.js'></script>
		<script src='js/vexflow/support/jquery.js'></script>
		<script src='js/vexflow/vexflow-min.js'></script>
		<script src='js/chords/chords.js'></script>
		<title>Chords</title>
	</head>
	<body>
		<header>
			<span><a href="index.html"><img src="images/home.svg" alt="home"></a></span> &#160; &#160; &#160; <h1 class='title'>Chords</h1>
		</header>
		<article>
			<h2>Choose instrument, base note, chordtype</h2>
			<div id='chord_parent' class='chord_parent'></div>
		</article>
		<footer>
			<p>This page uses : </p>
			<ul>
				<li><a href='https://www.vexflow.com/'>VexFlow</a> for HTML5 Music Engraving (see <a href='https://github.com/0xfe/vexflow'>https://github.com/0xfe/vexflow</a>).</li>
				<li>Images from <a href='https://commons.wikimedia.org'>commons.wikimedia.org</a> for the instruments.</li>
			</ul>
		</footer>
		<script>
			let instrument = '';
			let query = window.location.search;
			// Skip the leading ?, which should always be there, 
			// but be careful anyway
			if (query.substring(0, 1) == '?') query = query.substring(1);
			let data = query.split('&'); 
			let name='', path='', lang='';
			for (i = 0; (i < data.length); i++) {
				data[i] = decodeURIComponent(data[i]);
				let temp = data[i].split('=');
				if (temp[0]=='instrument') { instrument=temp[1]; console.log('Instrument '+instrument); }
			}
			let c = new Chords('chord_parent', instrument);
			window.addEventListener('resize', function() {
				c.update();
			});
		</script>
	</body>
</html>